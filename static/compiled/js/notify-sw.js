//    Copyright 2017 Satyam Singh (satyam0507@gmail.com) All Rights Reserved.
// 
//    Licensed under the Apache License, Version 2.0 (the "License");
//    you may not use this file except in compliance with the License.
//    You may obtain a copy of the License at
// 
//        http://www.apache.org/licenses/LICENSE-2.0
// 
//    Unless required by applicable law or agreed to in writing, software
//    distributed under the License is distributed on an "AS IS" BASIS,
//    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//    See the License for the specific language governing permissions and
//    limitations under the License.



(function(){"use strict";function e(){return new o}var t=["cacheFirst","cacheOnly","fastest","networkFirst","networkOnly"],a=["get","post","put","delete","head"],o=function(){this.options={cache:{name:"notify-1",maxAge:604800,maxLimit:1e3},preCache:["/"],defaultHandler:"fastest",navigationFallback:"/offline"}};o.prototype.init=function(e){if("object"==typeof e&&Object.keys(e).length>=1){var t=n["extends"](this.options,e);n.validateOptions(t)?(console.log("option is valid"),n.notify_toolbox(t)):console.log("option is invalid")}else console.log("initializing with default values")};var n={"extends":function(){var e={},t=!0,a=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],a++);for(var i=function(a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t&&"[object Object]"===Object.prototype.toString.call(a[o])?e[o]=n["extends"](!0,e[o],a[o]):e[o]=a[o])};o>a;a++){var l=arguments[a];i(l)}return e},validateOptions:function(e){var t=[],a=!0;return t.push(n.validateHandler(e.defaultHandler)),t.push(n.validatePreCache(e.preCache)),t.forEach(function(e){e||(a=!1)}),a},validateHandler:function(e){return"string"==typeof e&&e.length&&-1!==t.indexOf(e)?!0:!1},validatePreCache:function(e){return Array.isArray(e)},validateRequestType:function(e){return"string"==typeof e&&e.length&&-1!==a.indexOf(e)?!0:!1},get:function(e,t,a,o,i){return"string"==typeof e&&e.length?void toolbox.router.get(e,toolbox[t]||n.getDeaultHandler,{cache:{name:i||n.getDeaultCacheName,maxAgeSeconds:a||n.getDeaultMaxAge,maxEntries:o||n.getDeaultMaxLimit}}):void console.log("not a valid regex")},post:function(e,t,a,o,i){return"string"==typeof e&&e.length?void toolbox.router.post(e,toolbox[t]||n.getDeaultHandler,{cache:{name:i||n.getDeaultCacheName,maxAgeSeconds:a||n.getDeaultMaxAge,maxEntries:o||n.getDeaultMaxLimit}}):void console.log("not a valid regex")},any:function(e,t,a,o,i){return"string"==typeof e&&e.length?void toolbox.router.any(e,toolbox[t]||n.getDeaultHandler,{cache:{name:i||n.getDeaultCacheName,maxAgeSeconds:a||n.getDeaultMaxAge,maxEntries:o||n.getDeaultMaxLimit}}):void console.log("not a valid regex")},getDeaultHandler:function(){return self.notify.options.defaultHandler},getDeaultCacheName:function(){return self.notify.options.cache.cacheName},getDeaultMaxAge:function(){return self.notify.options.cache.maxAge},getDeaultMaxLimit:function(){return self.notify.options.cache.maxLimit},notify_toolbox:function(e){importScripts("compiled/js/sw-toolbox.js");var t="any";if(toolbox.options.debug=!0,toolbox.options.cache.name=e.cache.name,toolbox.options.preCacheItems=e.preCache,toolbox.options.navigationFallback=e.navigationFallback,e.hasOwnProperty("urls"))for(var a in e.urls){var o=e.urls[a].requestType,i=e.urls[a].handler,l=e.urls[a].maxAge,r=e.urls[a].maxLimit,s=e.cache.name;o&&n.validateRequestType(o)?n[o](a,i,l,r,s):n[t](a,i,l,r,s)}if(e.hasOwnProperty("staticFiles"))for(var a in e.sataticFiles){var o=e.staticFiles[a].requestType,i="cacheOnly",l=e.staticFiles[a].maxAge,r=e.staticFiles[a].maxLimit,s=n.getDeaultCacheName;o&&n.validateRequestType(o)?n[o](a,i,l,r,s):n[t](a,i,l,r,s)}if(e.hasOwnProperty("dynamicFiles"))for(var a in e.dynamicFiles){var o=e.dynamicFiles[a].requestType,i="networkOnly",l=e.dynamicFiles[a].maxAge,r=e.dynamicFiles[a].maxLimit,s=n.getDeaultCacheName;o&&n.validateRequestType(o)?n[o](a,i,l,r,s):n[t](a,i,l,r,s)}toolbox.router["default"]=toolbox[e.defaultHandler]}};self.notify=e()}).call("undefined"!=typeof self?self:console.log("include notify-sw only in service worker file"));